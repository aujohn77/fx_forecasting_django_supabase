{% extends "base.html" %}
{% load static %}

{% block title %}ML Deployment Platform (FX Example){% endblock %}

{% block nav_projects_active %}nav-link-active{% endblock %}

{% block nav_row2 %}
<nav class="subnav">
  <a href="{% url 'portfolio:project_model_deploy' %}" class="nav-link nav-link-active">
    ML Deployment Platform (FX Example)
  </a>
  
  <a href="{% url 'portfolio:project_amazon_recommender' %}" class="nav-link">
    Amazon-style Product Recommender
  </a>
  <a href="{% url 'portfolio:project_lead_conversion' %}" class="nav-link">
    Lead Conversion Prediction
  </a>
  <a href="{% url 'portfolio:project_customer_segmentation' %}" class="nav-link">
    Customer Segmentation
  </a>
</nav>
{% endblock %}

{% block nav_row3 %}
<nav class="subnav">
  <a href="{% url 'market' %}" class="nav-link">Market</a>
  <a href="{% url 'forecast' %}" class="nav-link">Forecasts</a>
</nav>
{% endblock %}

{% block content %}
<section class="card">
  <h2>ML Deployment Platform (Independent Project)</h2>

  <!-- AUTOPILOT BADGE -->
  <div class="autopilot-badge">
    Fully automated ‚Ä¢ No manual steps
  </div>

  <p>
    This project is a fully automated ML deployment platform for FX forecasting.
    Every model registered in the system runs on autopilot: new FX closing rates are ingested daily,
    all models are executed automatically via GitHub Actions, and their predictions are stored and pushed
    straight into a live dashboard. The result is a hands-free, production-grade forecasting workflow ‚Äî
    built end-to-end from data ingestion to model execution, storage, and visualization.
  </p>

  <!-- FLOWING PIPELINE LINE -->
  <div class="pipeline-line"></div>

  <h3>Features</h3>
  <ul>
    <li><strong>Infrastructure:</strong> Supabase Postgres + Django web interface</li>
    <li><strong>Automation:</strong> Daily ingestion and forecasting pipelines via GitHub Actions</li>
    <li><strong>Model Layer:</strong> Plug-and-play registry for Python and R models</li>
    <li><strong>Outputs:</strong> Stored predictions, live dashboards, and visualized backtests</li>
  </ul>

  <p>
    You can access the live FX views through the buttons below.
  </p>

  <!-- Project Links section -->
  <h3 style="margin-top:2rem;">Project Links</h3>

  <div style="display:flex; gap:1rem; margin-bottom:1.5rem; flex-wrap:wrap;">

    <!-- GitHub -->
    <a href="https://github.com/aujohn77/fx_forecasting_django_supabase"
       target="_blank"
       class="project-cta"
       data-analytics="cta_button"
       data-analytics-label="GitHub Repository">
      GitHub Repository
    </a>

    <!-- Market -->
    <a href="{% url 'market' %}"
       target="_blank"
       class="project-cta project-cta-secondary"
       data-analytics="cta_button"
       data-analytics-label="Market Dashboard">
      Market Dashboard
    </a>

    <!-- Forecast -->
    <a href="{% url 'forecast' %}"
       target="_blank"
       class="project-cta project-cta-tertiary"
       data-analytics="cta_button"
       data-analytics-label="Forecast Dashboard">
      Forecast Dashboard
    </a>

  </div>

  <!-- Plug-and-Play -->
  <h3 style="margin-top:2rem;">Plug-and-Play Model Integration</h3>

  <p>You can plug in your own forecasting model by following these steps:</p>

  <div class="template-downloads">
    <p>Download the template for your language:</p>
    <ul class="download-list">
      <li>
        <a href="{% url 'portfolio:download_file' 'python_template' %}"
           data-track-download
           data-download-name="Python model template (.py)">
          Python model template (.py)
        </a>
      </li>
      <li>
        <a href="{% url 'portfolio:download_file' 'r_template' %}"
           data-track-download
           data-download-name="R model template (.R)">
          R model template (.R)
        </a>
      </li>
    </ul>
  </div>

  <pre class="code-block">
Open the template and edit only the section marked:
"PART 2 ‚Äî MODEL LOGIC (THIS IS YOUR AREA)"

In "PART 3", you will see where to set your model name (e.g., 'my_model').

Then:

Python models
-------------
Save the file to:
apps/forecasting/<span style="color:#4ade80;">models_lib</span>/

Rename it to match your model name (e.g., my_model.py).

Open:
apps/forecasting/models_lib/registry.py

Add at the top:
from . import my_model

Add this to _REGISTRY:
"my_model": my_model.predict,


R models
--------
Save the file to:
apps/forecasting/<span style="color:#facc15;">r_models</span>/

Rename it to match your model name (e.g., my_model.R).

Open:
apps/forecasting/models_lib/registry.py

(You do NOT add an import at the top for R models.)

Add this to _REGISTRY:
"my_model": make_r_predictor("my_model.R"),
  </pre>

  <!-- ============================= -->
  <!-- Friendly Notes for Developers -->
  <!-- ============================= -->

  <h3 style="margin-top:2rem;">A few notes before you start using or expanding this platform</h3>

  <p><strong>‚Ä¢ One model, all currencies</strong><br>
  Just a heads-up: to keep things simple, any model you add will automatically forecast all currencies. In real FX work you‚Äôd normally have one model per currency pair, but I simplified it here so you don‚Äôt have to manage dozens of models.</p>

  <p><strong>‚Ä¢ Models run from their logic (not serialized files)</strong><br>
  FX data changes fast, so instead of freezing a trained model and loading it later, this platform runs the model directly from its logic every day.
  That‚Äôs actually how most FX forecasting agencies do it.</p>

  <p><strong>‚Ä¢ Don‚Äôt forget the packages</strong><br>
  If your model needs extra libraries, just add them:<br>
  ‚Äì Python packages ‚Üí <code>requirements.txt</code><br>
  ‚Äì R packages ‚Üí inside the GitHub Actions workflow.<br>
  </p>

  <p><strong>‚Ä¢ The default models are just placeholders</strong><br>
  The models that come with the system are super basic ‚Äî just enough to demonstrate the workflow.
  They usually just repeat yesterday‚Äôs rate, which is why the variation column is usually zero. So don‚Äôt use them for anything serious.</p>


  <p><strong>‚Ä¢ Evaluating Your Own Models</strong><br>
  This project intentionally does not include a model-comparison page.
  Any evaluation or comparison between models should be performed in your own notebook.
  For forecasting theory, the book by Hyndman and Athanasopoulos has helped me a lot,
  and I strongly recommend it. In that book, the authors highlight the use of AICc as a practical criterion for selecting models. <a href="https://otexts.com/fpp3/selecting-predictors.html" target="_blank">(link)</a>
</p>


  <p><strong>‚Ä¢ Use the Ops Console for full control</strong><br>
  There‚Äôs a small Ops Console where you can:<br>
  ‚Äì pull new FX rates<br>
  ‚Äì run forecasts<br>
  ‚Äì run backtests<br>
  It writes directly to the database, so it‚Äôs password-protected and only enabled locally.</p>

  <!-- Ops Console Screenshot -->
  <div style="margin:1rem 0 2rem 0; text-align:center;">
    <img src="{% static 'images/ops_console.png' %}" 
         alt="Ops Console Screenshot"
         style="max-width:100%; border-radius:12px; border:1px solid #2a2f3a;">
  </div>

  <p><strong>‚Ä¢ About timeframes (Daily, Weekly, Monthly)</strong><br>
  The original idea was to support three timeframes ‚Äî daily, weekly, and monthly. 
  Most of the backend work for weekly and monthly is already there, which is why you‚Äôll see ‚ÄúWeek‚Äù options in the Ops Console. 
  But they still need a few adjustments to be fully ready. For now, I‚Äôd recommend sticking to the daily timeframe ‚Äî it‚Äôs the most complete and stable.</p>

  <p><strong>‚Ä¢ Dashboards are cached</strong><br>
  Rates come in every day around 16:15 CET, and the dashboards stay cached for 45 minutes.
  If you‚Äôre tweaking a model and want to see the change immediately, just hit the ‚ÄúClear Cache‚Äù button in the Ops Console.</p>

  <p><strong>‚Ä¢ Dictionary vs Database (REGISTRY vs Model Specs)</strong><br>
  When you add a model to the <code>_REGISTRY</code> dictionary, it immediately becomes available in the Ops Console.
  From there, you should run a forecast (or any model task) at least once ‚Äî this first run automatically creates an entry 
  for the model in the <em>ModelSpec</em> table in the database. Once the model exists in <em>ModelSpec</em>, it becomes an 
  official part of the platform and will be executed automatically by GitHub Actions on the daily schedule. If you want to 
  completely remove a model from the platform, deleting it from <code>_REGISTRY</code> is not enough ‚Äî you must also delete its 
  entry from the <em>ModelSpec</em> table in the database.</p>

  <!-- REGISTRY screenshot -->
  <div style="margin:1rem 0; text-align:center;">
    <img src="{% static 'images/registry_dict.png' %}"
         alt="REGISTRY dictionary screenshot"
         style="max-width:100%; border-radius:12px; border:1px solid #2a2f3a;">
  </div>

  <!-- Model Spec screenshot -->
  <div style="margin:1rem 0 2rem 0; text-align:center;">
    <img src="{% static 'images/model_specs_table.png' %}"
         alt="Model Specs table screenshot"
         style="max-width:100%; border-radius:12px; border:1px solid #2a2f3a;">
  </div>


<p><strong>‚Ä¢ A small note of gratitude</strong><br>
  I want to thank everyone who has ever contributed code to the world. Modern AI may have been 
  created by scientists, but it was trained on the code written and shared by generations of 
  developers, hobbyists, and open-source contributors. We all benefit from their work. I‚Äôm also 
  grateful for the scientists whose research laid the foundations of machine learning. Without 
  their contributions‚Äîand without today‚Äôs AI tools‚Äîa project like this would have taken me far 
  longer than just a few months.</p>

<p><em>Thanks for reading through this page ‚Äî hope you have fun building and deploying your own models!</em> üôÇ</p>



</section>
{% endblock %}
