{% extends "base.html" %}
{% load static %}

{% block title %}How to Add a New Forecast Model{% endblock %}

{% block content %}

<section class="card">
  <header style="margin-bottom:.5rem;">
    <h2>How to Add a New Forecast Model</h2>
    <p style="margin:0;color:var(--muted);">
      Follow these steps to plug a new model into the forecasting engine.
    </p>
  </header>

  <hr style="border:none;border-top:1px solid #1f2937;margin:1rem 0;">

  <h3>1. Download the Python template</h3>
  <p>
    Start by downloading the template file:
  </p>
  <pre><code>python_model_template.py</code></pre>
  <p>
    This template contains all the plumbing needed so that your model
    can talk to the rest of the system.
  </p>

  <h3>2. Insert your model logic</h3>
  <p>
    Open <code>python_model_template.py</code> and edit
    <strong>only</strong> the section marked:
  </p>
  <pre><code># PART 2 â€” MODEL LOGIC (THIS IS YOUR AREA)</code></pre>
  <p>
    Inside the template you will also find a line where you choose a
    name for your model, for example:
  </p>
  <pre><code>model_name = "my_model"</code></pre>
  <p>
    Keep this name <strong>short</strong>, <strong>lowercase</strong> and
    <strong>without spaces</strong>, as it will be used by the registry.
  </p>

  <h3>3. Save the file in the correct folder</h3>
  <p>
    Once your logic is in place, save the modified file into:
  </p>
  <pre><code>apps/forecasting/models_lib/</code></pre>
  <p>
    Rename the file so that it matches the model name you chose. For example:
  </p>
  <ul>
    <li><code>model_name = "my_model"</code></li>
    <li>File name must be: <code>my_model.py</code></li>
  </ul>
  <p>
    This keeps the system consistent and allows the registry to import your model
    correctly.
  </p>

  <h3>4. Register your model</h3>
  <p>
    Open the registry file:
  </p>
  <pre><code>apps/forecasting/models_lib/registry.py</code></pre>

  <p>Add an import at the top:</p>
  <pre><code>from . import my_model</code></pre>

  <p>
    Then register the model inside <code>_REGISTRY</code>. For example:
  </p>
  <pre><code>_REGISTRY = {
    # existing models...
    "my_model": my_model.predict,
}</code></pre>

  <p style="margin-top:1rem;">
    The key (<code>"my_model"</code>) must match the
    <code>model_name</code> you set in the template, and the value
    should point to the callable that returns predictions (usually
    <code>my_model.predict</code>).
  </p>

  <hr style="border:none;border-top:1px solid #1f2937;margin:1.5rem 0;">

  <p style="color:var(--muted);font-size:.9rem;">
    After these four steps, your model is available to the forecasting
    app and can be selected wherever models are listed in the UI.
  </p>
</section>

{% endblock %}
